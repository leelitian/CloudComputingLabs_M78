package lab2;

import java.io.BufferedReader; 
import java.io.IOException; 
import java.io.InputStreamReader; 
import java.io.PrintWriter; 
import java.net.HttpURLConnection; 
import java.net.URL; 
   
public class httpclient { 
    //发送一个GET请求 
    public static String get(String path) throws Exception{ 
        HttpURLConnection httpConn=null; 
        BufferedReader in=null; 
        try { 
            URL url=new URL(path); 
            httpConn=(HttpURLConnection)url.openConnection(); 
            //这里只是对服务器的测试，所以不需要判断getResponseCode()的结果
            httpConn.getResponseCode();
        } catch (IOException e) { 
            e.printStackTrace(); 
        }finally{ 
            //in.close(); 
            httpConn.disconnect(); 
        } 
        return null; 
    } 
    //发送一个GET请求,参数形式key1=value1&key2=value2... 
    public static String post(String path,String params) throws Exception{ 
        HttpURLConnection httpConn=null; 
        PrintWriter out=null; 
        try { 
            URL url=new URL(path); 
            httpConn=(HttpURLConnection)url.openConnection(); 
            httpConn.setRequestMethod("POST"); 
            httpConn.setDoOutput(true); 
               
            //发送post请求参数 
            out=new PrintWriter(httpConn.getOutputStream()); 
            out.println(params); 
            out.flush(); 
            //httpConn.connect();  
            //读取响应 
            httpConn.getResponseCode();
        } catch (IOException e) { 
            e.printStackTrace(); 
        }finally{
        	out.close();
            httpConn.disconnect(); 
        } 
        return null; 
    } 
       
    public static void main(String[] args) throws Exception { 
        httpclient.get("http://localhost:8999/index.html/b?b=1&b=2"); 
        //httpclient.post("http://localhost:8999/index.html", "hello"); 
    } 
   
}